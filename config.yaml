camera:
  serial: null
  exposure_us: 8000
  gain: 0
  pixel_format: "BayerRG8"

plc:
  protocol: "ASCII_TCP"
  ip: "192.168.0.100"
  port: 8501
  addr:
    busy: "R1000"
    done: "R1001"
    error: "R1002"
    trigger: "M200"
    ack: "M201"
    result_bits_start_word: "R1100"
  timeouts:
    connect_ms: 3000
    cycle_ms: 5000

models:
  algo: "GLASS"  # INP or GLASS
  inp:
    path: app/models/anomaly.onnx
    provider: "cuda"
    input_size: 448
    inp_threshold: 0.15
    inp_blur_kernel: 5
    inp_blur_sigma: 4.0
    inp_max_ratio: 0.0
    inp_bin_thresh: 0.2
  glass:
    path: app/models/glass.onnx
    provider: "cuda"
    input_size: 288
    glass_threshold: 0.5
    glass_batch: 8
    glass_blur_kernel: 33
    glass_blur_sigma: 4.0
    glass_norm_eps: 1.0e-8
    glass_bin_thresh: 0.8
  yolo:
    enabled: false
    path: "models/yolo.engine"
    conf_thres: 0.25
    iou_thres: 0.45

io:
  save_images: true
  output_dir: "runs/latest"
  filename_pattern: "{ts}_{model}_{idx:02d}_{cls}.png"
  save_heatmap: false
  save_binary: false

layout:
  count: 20
  order: "row_major"
  rows: 4
  cols: 5
  patch_padding: 10
  crop_method: "circle"
  circle_min_radius: 300
  circle_max_radius: 340
  circle_dp: 1.0
  circle_minDist: 600
  circle_param1: 200
  circle_param2: 9
  circle_radius_expand: 16
  circle_erode_iter: 5
  circle_dilate_iter: 5
  circle_blur_kernel: 5
  circle_threshold: 50
